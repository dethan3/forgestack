/**
 * 练习 02：数组方法
 *
 * 学习目标：
 * - 熟练使用数组的遍历、转换、查找方法
 * - 理解 map、filter、reduce 的应用
 */

// ============================================
// 练习 1：数组去重
// ============================================

/**
 * 返回去重后的数组
 * [1, 2, 2, 3, 3, 3] => [1, 2, 3]
 */
export function unique(arr) {
  // TODO: 使用 Set 或 filter
}

// ============================================
// 练习 2：查找最大值
// ============================================

/**
 * 返回数组中的最大值
 * 如果数组为空，返回 undefined
 */
export function max(arr) {
  // TODO: 使用 Math.max 和展开运算符，或 reduce
}

// ============================================
// 练习 3：数组扁平化
// ============================================

/**
 * 将嵌套数组扁平化为一维数组
 * [[1, 2], [3, [4, 5]]] => [1, 2, 3, 4, 5]
 */
export function flatten(arr) {
  // TODO: 使用 flat(Infinity) 或递归
}

// ============================================
// 练习 4：分组统计
// ============================================

/**
 * 统计数组中每个元素出现的次数
 * ['a', 'b', 'a', 'c', 'b', 'a'] => { a: 3, b: 2, c: 1 }
 */
export function countOccurrences(arr) {
  // TODO: 使用 reduce
}

// ============================================
// 练习 5：数组分块
// ============================================

/**
 * 将数组分割成指定大小的块
 * chunk([1, 2, 3, 4, 5], 2) => [[1, 2], [3, 4], [5]]
 */
export function chunk(arr, size) {
  // TODO: 使用循环或 slice
}

// ============================================
// 练习 6：取交集
// ============================================

/**
 * 返回两个数组的交集
 * intersection([1, 2, 3], [2, 3, 4]) => [2, 3]
 */
export function intersection(arr1, arr2) {
  // TODO: 使用 filter 和 includes
}

// ============================================
// 练习 7：对象数组排序
// ============================================

/**
 * 按指定属性对对象数组排序
 * sortBy([{name: 'Bob'}, {name: 'Alice'}], 'name')
 * => [{name: 'Alice'}, {name: 'Bob'}]
 */
export function sortBy(arr, key) {
  // TODO: 使用 sort 和比较函数
  // 注意：不要修改原数组
}

// ============================================
// 练习 8：数组求和（支持嵌套）
// ============================================

/**
 * 计算数组所有数字的和（支持嵌套数组）
 * sumNested([1, [2, 3], [[4]]]) => 10
 */
export function sumNested(arr) {
  // TODO: 先扁平化，再求和
}
